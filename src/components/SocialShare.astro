---
interface Props {
  title: string;
  description: string;
  url: string;
}

const { title, description, url } = Astro.props;
const encodedUrl = encodeURIComponent(url);
const encodedTitle = encodeURIComponent(title);
const encodedDescription = encodeURIComponent(description);
---

<div class="flex flex-wrap items-center gap-3">
  <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Share:</span>
  
  <div class="flex gap-2">
    <!-- Twitter/X -->
    <a href={`https://twitter.com/intent/tweet?text=${encodedTitle}&url=${encodedUrl}`}
       target="_blank"
       rel="noopener noreferrer"
       class="p-2 text-gray-700 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 bg-gray-100 dark:bg-gray-800 rounded-full transition-colors"
       aria-label="Share on Twitter">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
      </svg>
    </a>

    <!-- Facebook -->
    <a href={`https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`}
       target="_blank"
       rel="noopener noreferrer"
       class="p-2 text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-500 bg-gray-100 dark:bg-gray-800 rounded-full transition-colors"
       aria-label="Share on Facebook">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path>
      </svg>
    </a>

    <!-- LinkedIn -->
    <a href={`https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedTitle}&summary=${encodedDescription}`}
       target="_blank"
       rel="noopener noreferrer"
       class="p-2 text-gray-700 hover:text-blue-700 dark:text-gray-300 dark:hover:text-blue-600 bg-gray-100 dark:bg-gray-800 rounded-full transition-colors"
       aria-label="Share on LinkedIn">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path fill-rule="evenodd" d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.418-4.814a2.507 2.507 0 0 1 1.768-1.768C5.746 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z" clip-rule="evenodd" />
      </svg>
    </a>

    <!-- Web Share API -->
    <button
      onclick="navigator.share({title: document.title, url: window.location.href, text: document.querySelector('meta[name=description]').content})"
      class="p-2 text-gray-700 hover:text-green-600 dark:text-gray-300 dark:hover:text-green-500 bg-gray-100 dark:bg-gray-800 rounded-full transition-colors"
      aria-label="Share via..."
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
      </svg>
    </button>
  </div>
</div>
